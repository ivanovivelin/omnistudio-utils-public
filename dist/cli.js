#!/usr/bin/env node
(()=>{var t={304:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(){"use strict";o=function(){return e};var t,e={},r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function h(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,r){return t[e]=r}}function p(t,e,r,n){var o=e&&e.prototype instanceof b?e:b,i=Object.create(o.prototype),s=new L(n||[]);return a(i,"_invoke",{value:A(t,r,s)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var m="suspendedStart",d="suspendedYield",g="executing",y="completed",v={};function b(){}function w(){}function _(){}var x={};h(x,c,(function(){return this}));var O=Object.getPrototypeOf,E=O&&O(O($([])));E&&E!==r&&i.call(E,c)&&(x=E);var S=_.prototype=b.prototype=Object.create(x);function k(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function r(o,a,s,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==n(h)&&i.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,s,c)}),(function(t){r("throw",t,s,c)})):e.resolve(h).then((function(t){l.value=t,s(l)}),(function(t){return r("throw",t,s,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}})}function A(e,r,n){var o=m;return function(i,a){if(o===g)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=g;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:d,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[c];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(i.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(n(e)+" is not iterable")}return w.prototype=_,a(S,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=h(_,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,h(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},k(C.prototype),h(C.prototype,u,(function(){return this})),e.AsyncIterator=C,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new C(p(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(S),h(S,l,"Generator"),h(S,c,(function(){return this})),h(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function i(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function a(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function s(t){i(a,n,o,s,c,"next",t)}function c(t){i(a,n,o,s,c,"throw",t)}s(void 0)}))}}var s=r(383),c=r(3),u=c.resolve(process.cwd(),"./omniUtils/DataRaptor/renameMapDR.json"),l=c.dirname(u),h={};function p(t){s.existsSync(t)||s.mkdirSync(t,{recursive:!0})}function f(){try{p(l),s.writeFileSync(u,"{}","utf8"),console.log("Rename map file ".concat(u," has been emptied."))}catch(t){console.error("Error emptying rename map file: ".concat(t))}}function m(){return d.apply(this,arguments)}function d(){return(d=a(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,p(c.dirname(u)),t.next=4,s.promises.writeFile(u,JSON.stringify(h,null,2));case 4:t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("Error saving rename map: ".concat(t.t0));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function g(t,e,r){var n=JSON.stringify(t).split(e).join(r),o=new RegExp("(".concat(e,'[^"]*)'),"g");return n=n.replace(o,(function(t){var n=t.split(e);return"".concat(r).concat(n[1])})),JSON.parse(n)}function y(t,e,r){return v.apply(this,arguments)}function v(){return v=a(o().mark((function t(e,r,n){var i,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.promises.readdir(e);case 3:return i=t.sent,u=i.map(function(){var t=a(o().mark((function t(i){var a,u,l,h,p;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.join(e,i),t.next=3,s.promises.stat(a);case 3:if(!(u=t.sent).isDirectory()){t.next=9;break}return t.next=7,y(a,r,n);case 7:t.next=19;break;case 9:if(!u.isFile()||".json"!==c.extname(i)||!i.includes("DataPack.json")){t.next=19;break}return t.next=12,s.promises.readFile(a,"utf8");case 12:return l=t.sent,h=JSON.parse(l),(p=g(h,r,n)).Name&&(p.Name=n),t.next=18,s.promises.writeFile(a,JSON.stringify(p,null,2));case 18:console.log("Updated JSON file: ".concat(a));case 19:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=7,Promise.all(u);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Error processing JSON updates: ".concat(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),v.apply(this,arguments)}function b(t,e,r){return w.apply(this,arguments)}function w(){return w=a(o().mark((function t(e,r,n){var i,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.promises.readdir(e);case 3:return i=t.sent,u=i.map(function(){var t=a(o().mark((function t(i){var a,u,l;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.join(e,i),u=c.join(e,i.split(r).join(n)),t.next=4,s.promises.stat(a);case 4:if(!(l=t.sent).isDirectory()){t.next=18;break}return t.next=8,b(a,r,n);case 8:if(!i.includes(r)){t.next=16;break}if(!s.existsSync(u)){t.next=13;break}console.warn("Warning: Directory already exists: ".concat(u,". Skipping rename.")),t.next=16;break;case 13:return t.next=15,s.promises.rename(a,u);case 15:console.log("Renamed directory: ".concat(a," -> ").concat(u));case 16:t.next=26;break;case 18:if(!l.isFile()||!i.includes(r)){t.next=26;break}if(!s.existsSync(u)){t.next=23;break}console.warn("Warning: File already exists: ".concat(u,". Skipping rename.")),t.next=26;break;case 23:return t.next=25,s.promises.rename(a,u);case 25:console.log("Renamed file: ".concat(a," -> ").concat(u));case 26:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=7,Promise.all(u);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Error renaming files: ".concat(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),w.apply(this,arguments)}function _(){return _=a(o().mark((function t(e){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return f(),e+="/DataRaptor/",t.prev=2,t.next=5,s.promises.readdir(e);case 5:return r=t.sent,n=r.map(function(){var t=a(o().mark((function t(r){var n,i,a,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.join(e,r),t.next=3,s.promises.stat(n);case 3:if(!t.sent.isDirectory()||!r.includes("_")){t.next=25;break}return a=(i=r).replace(/_/g,""),console.log("Processing directory: ".concat(i," -> ").concat(a)),t.next=10,y(n,i,a);case 10:return t.next=12,b(n,i,a);case 12:if(u=c.join(e,a),!s.existsSync(u)){t.next=17;break}console.warn("Warning: Directory already exists: ".concat(u,". Skipping rename.")),t.next=23;break;case 17:return t.next=19,s.promises.rename(n,u);case 19:return console.log("Renamed directory: ".concat(n," -> ").concat(u)),h[i]=a,t.next=23,m();case 23:t.next=26;break;case 25:console.log("Skipping folder: ".concat(r));case 26:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=9,Promise.all(n);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(2),console.error("Error processing folders: ".concat(t.t0));case 14:case"end":return t.stop()}}),t,null,[[2,11]])}))),_.apply(this,arguments)}t.exports={startProcess:function(t){return _.apply(this,arguments)}}},938:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(383),i=r(3),a=i.resolve(process.cwd(),"./omniUtils/DataRaptor/renameMapDR.json"),s={},c={keysWithChildNodes:[],keysWithoutChildNodes:["Name"],values:[],paths:["OmniProcessElement"]};function u(t,e,r,n){return!(!n||!c.keysWithChildNodes.includes(t))||(!(n||!c.keysWithoutChildNodes.includes(t))||(!!c.paths.includes(e)||!(n||!c.values.includes(r))))}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=!1;return Array.isArray(t)?t.forEach((function(o,i){var a="".concat(e,"[").concat(i,"]");if("object"===n(o))r=l(o,a)||r;else if("string"==typeof o){var s=p(o);if(s){l(s,a)&&(t[i]=JSON.stringify(s),r=!0)}else{var c=h(o);c===o||u(i,a,o,!1)||(t[i]=c,r=!0)}}})):"object"===n(t)&&null!==t&&Object.keys(t).forEach((function(o){var i=t[o],a=e?"".concat(e,".").concat(o):o,s="object"===n(i)&&null!==i;if(!u(o,a,i,s))if(s)r=l(i,a)||r;else if("string"==typeof i){var c=p(i);if(c){l(c,a)&&(t[o]=JSON.stringify(c),r=!0)}else{var f=h(i);f!==i&&(t[o]=f,r=!0)}}})),r}function h(t){var e=t;return Object.keys(s).forEach((function(r){t.includes(r)&&(e=e.split(r).join(s[r]))})),e}function p(t){try{var e=JSON.parse(t);if("object"===n(e)&&null!==e)return e}catch(t){return null}return null}function f(t,e){o.readdir(t,(function(r,n){if(r)return console.error("Error reading directory: ".concat(r));var a=[];n.forEach((function(e){var r=i.join(t,e);a.push(new Promise((function(t,n){o.stat(r,(function(a,s){if(a)return n("Error stating file: ".concat(a));s.isDirectory()?f(r,t):s.isFile()&&".json"===i.extname(e)?o.readFile(r,"utf8",(function(e,i){if(e)return n("Error reading file: ".concat(e));var a;try{a=JSON.parse(i)}catch(e){return n("Error parsing JSON: ".concat(e))}l(a)?o.writeFile(r,JSON.stringify(a,null,2),(function(e){if(e)return n("Error writing file: ".concat(e));t()})):t()})):t()}))})))})),Promise.all(a).then((function(){e&&e()})).catch((function(t){console.error(t)}))}))}t.exports={startProcess:function(t){try{s=JSON.parse(o.readFileSync(a,"utf8"))}catch(t){console.error("Could not found rename map json file: ".concat(t,", the process will exit.")),process.exit(1)}var e=[];[t+"/FlexCard/",t+"/OmniScript/",t+"/IntegrationProcedure/"].forEach((function(t){e.push(new Promise((function(e){f(t,e)})))})),Promise.all(e).then((function(){console.log("JSON files have been updated based on the rename map.")})).catch((function(t){console.error("An error occurred during the process:",t)}))}}},140:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(){"use strict";o=function(){return e};var t,e={},r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function h(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,r){return t[e]=r}}function p(t,e,r,n){var o=e&&e.prototype instanceof b?e:b,i=Object.create(o.prototype),s=new L(n||[]);return a(i,"_invoke",{value:A(t,r,s)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var m="suspendedStart",d="suspendedYield",g="executing",y="completed",v={};function b(){}function w(){}function _(){}var x={};h(x,c,(function(){return this}));var O=Object.getPrototypeOf,E=O&&O(O($([])));E&&E!==r&&i.call(E,c)&&(x=E);var S=_.prototype=b.prototype=Object.create(x);function k(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function r(o,a,s,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==n(h)&&i.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,s,c)}),(function(t){r("throw",t,s,c)})):e.resolve(h).then((function(t){l.value=t,s(l)}),(function(t){return r("throw",t,s,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}})}function A(e,r,n){var o=m;return function(i,a){if(o===g)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=g;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:d,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[c];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(i.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(n(e)+" is not iterable")}return w.prototype=_,a(S,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=h(_,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,h(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},k(C.prototype),h(C.prototype,u,(function(){return this})),e.AsyncIterator=C,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new C(p(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(S),h(S,l,"Generator"),h(S,c,(function(){return this})),h(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function i(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function a(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function s(t){i(a,n,o,s,c,"next",t)}function c(t){i(a,n,o,s,c,"throw",t)}s(void 0)}))}}var s=r(383),c=r(3),u=c.resolve(process.cwd(),"./omniUtils/FlexCard/renameMapFlexCard.json"),l=c.dirname(u),h={};function p(){try{!function(t){s.existsSync(t)||s.mkdirSync(t,{recursive:!0})}(l),s.writeFileSync(u,"{}","utf8"),console.log("Rename map file ".concat(u," has been emptied."))}catch(t){console.error("Error emptying rename map file: ".concat(t))}}function f(){return m.apply(this,arguments)}function m(){return(m=a(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.promises.writeFile(u,JSON.stringify(h,null,2));case 3:console.log("Rename map has been saved."),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("Error saving rename map: ".concat(t.t0));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function d(t,e,r){var n=JSON.stringify(t).split(e).join(r),o=new RegExp("(".concat(e,'[^"]*)'),"g");return n=n.replace(o,(function(t){var n=t.split(e);return"".concat(r).concat(n[1])})),JSON.parse(n)}function g(t,e,r){return y.apply(this,arguments)}function y(){return y=a(o().mark((function t(e,r,n){var i,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.promises.readdir(e);case 3:return i=t.sent,u=i.map(function(){var t=a(o().mark((function t(i){var a,u,l,h,p;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.join(e,i),t.next=3,s.promises.stat(a);case 3:if(!(u=t.sent).isDirectory()){t.next=9;break}return t.next=7,g(a,r,n);case 7:t.next=18;break;case 9:if(!u.isFile()||".json"!==c.extname(i)||!i.includes("DataPack.json")){t.next=18;break}return t.next=12,s.promises.readFile(a,"utf8");case 12:return l=t.sent,h=JSON.parse(l),p=d(h,r,n),t.next=17,s.promises.writeFile(a,JSON.stringify(p,null,2));case 17:console.log("Updated JSON file: ".concat(a));case 18:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=7,Promise.all(u);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Error processing JSON updates: ".concat(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),y.apply(this,arguments)}function v(t,e,r){return b.apply(this,arguments)}function b(){return b=a(o().mark((function t(e,r,n){var i,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.promises.readdir(e);case 3:return i=t.sent,u=i.map(function(){var t=a(o().mark((function t(i){var a,u,l;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return a=c.join(e,i),u=c.join(e,i.replace(r,n)),t.next=4,s.promises.stat(a);case 4:if(!(l=t.sent).isDirectory()){t.next=18;break}return t.next=8,v(a,r,n);case 8:if(a===u){t.next=16;break}if(!s.existsSync(u)){t.next=13;break}console.log("Directory already exists: ".concat(u,". Skipping rename.")),t.next=16;break;case 13:return t.next=15,s.promises.rename(a,u);case 15:console.log("Renamed directory: ".concat(a," -> ").concat(u));case 16:t.next=23;break;case 18:if(!l.isFile()){t.next=23;break}if(a===u){t.next=23;break}return t.next=22,s.promises.rename(a,u);case 22:console.log("Renamed file: ".concat(a," -> ").concat(u));case 23:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=7,Promise.all(u);case 7:t.next=12;break;case 9:t.prev=9,t.t0=t.catch(0),console.error("Error renaming files: ".concat(t.t0));case 12:case"end":return t.stop()}}),t,null,[[0,9]])}))),b.apply(this,arguments)}function w(){return w=a(o().mark((function t(e){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,p(),e+="/FlexCard/",t.next=5,s.promises.readdir(e);case 5:return r=t.sent,n=r.map(function(){var t=a(o().mark((function t(r){var n,i,a,u;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.join(e,r),t.next=3,s.promises.stat(n);case 3:if(!t.sent.isDirectory()){t.next=27;break}if(i=r,!r.includes("_")||h[i]){t.next=26;break}return a=r.replace(/_/g,""),console.log("Processing directory: ".concat(i," -> ").concat(a)),t.next=11,g(n,i,a);case 11:return t.next=13,v(n,i,a);case 13:if(u=c.join(e,a),!s.existsSync(u)){t.next=18;break}console.log("Target directory already exists: ".concat(u,". Skipping rename.")),t.next=24;break;case 18:return t.next=20,s.promises.rename(n,u);case 20:return console.log("Renamed directory: ".concat(n," -> ").concat(u)),h[i]=a,t.next=24,f();case 24:t.next=27;break;case 26:console.log("No renaming needed for: ".concat(r));case 27:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=9,Promise.all(n);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error("Error processing folders: ".concat(t.t0));case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),w.apply(this,arguments)}t.exports={startProcess:function(t){return w.apply(this,arguments)}}},518:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(383),i=r(3),a=i.resolve(process.cwd(),"./omniUtils/FlexCard/renameMapFlexCard.json"),s={},c={keysWithChildNodes:["property"],keysWithoutChildNodes:["title","lwc.DeveloperName","lwc.MasterLabel"],values:[],paths:[]};function u(t){var e=t.match(/_(\d.*)/);return e?e[0]:""}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",o=!1;return Array.isArray(t)?t.forEach((function(i,a){var s="".concat(e,"[").concat(a,"]");if("object"===n(i))o=l(i,s,t,r)||o;else if("string"==typeof i){var u=p(i);if(u){l(u,s,t,r)&&(t[a]=JSON.stringify(u),o=!0)}else{var f=h(i);f===i||function(t,e,r,n){return!("property"===t&&n&&!0===r.isRecursive||(n||!c.keysWithoutChildNodes.includes(t))&&!c.paths.includes(e)&&(n||!c.values.includes(r)))}(a,s,i,!1)||(t[a]=f,o=!0)}}})):"object"===n(t)&&null!==t&&Object.keys(t).forEach((function(i){var a=t[i],s=e?"".concat(e,".").concat(i):i,c="object"===n(a)&&null!==a;if("property"===i&&"object"===n(a)&&!0===a.isRecursive&&"cardName"in a){var f=u(a.cardName),m="".concat(r).concat(f);a.cardName=m,o=!0}if("lwc"===i&&"object"===n(a)&&(!function(t,e){["DeveloperName","MasterLabel"].forEach((function(r){if(r in t&&"string"==typeof t[r]){var n=u(t[r]),o="cf".concat(e).concat(n);t[r]=o}}))}(a,r),o=!0),c)o=l(a,s,t,r)||o;else if("string"==typeof a){var d=p(a);if(d){l(d,s,t,r)&&(t[i]=JSON.stringify(d),o=!0)}else{var g=h(a);g!==a&&(t[i]=g,o=!0)}}})),o}function h(t){var e=t;return Object.keys(s).forEach((function(r){t.includes(r)&&(e=e.split(r).join(s[r]))})),e}function p(t){try{var e=JSON.parse(t);if("object"===n(e)&&null!==e)return e}catch(t){return null}return null}function f(t,e){o.readdir(t,(function(r,n){if(r)return console.error("Error reading directory: ".concat(r));var a=[];n.forEach((function(e){var r=i.join(t,e),n=i.basename(e,".json");a.push(new Promise((function(t,a){o.stat(r,(function(s,c){if(s)return a("Error stating file: ".concat(s));c.isDirectory()?f(r,t):c.isFile()&&".json"===i.extname(e)?o.readFile(r,"utf8",(function(e,i){if(e)return a("Error reading file: ".concat(e));var s;try{s=JSON.parse(i)}catch(e){return a("Error parsing JSON: ".concat(e))}l(s,"",{},n)?o.writeFile(r,JSON.stringify(s,null,2),(function(e){if(e)return a("Error writing file: ".concat(e));t()})):t()})):t()}))})))})),Promise.all(a).then((function(){e&&e()})).catch((function(t){console.error(t)}))}))}t.exports={startProcess:function(t){var e=[t+"/FlexCard/",t+"/OmniScript/"];try{s=JSON.parse(o.readFileSync(a,"utf8"))}catch(t){console.error("Could not found rename map json file: ".concat(t,", the process will exit.")),process.exit(1)}var r=[];e.forEach((function(t){r.push(new Promise((function(e){f(t,e)})))})),Promise.all(r).then((function(){console.log("JSON files have been updated based on the rename map.")})).catch((function(t){console.error("An error occurred during the process:",t)}))}}},110:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(){"use strict";o=function(){return e};var t,e={},r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function h(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,r){return t[e]=r}}function p(t,e,r,n){var o=e&&e.prototype instanceof b?e:b,i=Object.create(o.prototype),s=new L(n||[]);return a(i,"_invoke",{value:A(t,r,s)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var m="suspendedStart",d="suspendedYield",g="executing",y="completed",v={};function b(){}function w(){}function _(){}var x={};h(x,c,(function(){return this}));var O=Object.getPrototypeOf,E=O&&O(O($([])));E&&E!==r&&i.call(E,c)&&(x=E);var S=_.prototype=b.prototype=Object.create(x);function k(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function r(o,a,s,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==n(h)&&i.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,s,c)}),(function(t){r("throw",t,s,c)})):e.resolve(h).then((function(t){l.value=t,s(l)}),(function(t){return r("throw",t,s,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}})}function A(e,r,n){var o=m;return function(i,a){if(o===g)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=g;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:d,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[c];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(i.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(n(e)+" is not iterable")}return w.prototype=_,a(S,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=h(_,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,h(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},k(C.prototype),h(C.prototype,u,(function(){return this})),e.AsyncIterator=C,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new C(p(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(S),h(S,l,"Generator"),h(S,c,(function(){return this})),h(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function i(t){return function(t){if(Array.isArray(t))return t}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return a(t,e);var r={}.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?a(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function s(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function c(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var i=t.apply(e,r);function a(t){s(i,n,o,a,c,"next",t)}function c(t){s(i,n,o,a,c,"throw",t)}a(void 0)}))}}var u=r(383),l=r(3),h=l.resolve(process.cwd(),"./omniUtils/IntegrationProcedure/renameMapIP.json"),p=l.dirname(h),f={};function m(){try{!function(t){u.existsSync(t)||u.mkdirSync(t,{recursive:!0})}(p),u.writeFileSync(h,"{}","utf8"),console.log("Rename map file ".concat(h," has been emptied."))}catch(t){console.error("Error emptying rename map file: ".concat(t))}}function d(){return g.apply(this,arguments)}function g(){return(g=c(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.promises.writeFile(h,JSON.stringify(f,null,2));case 3:console.log("Rename map has been saved."),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("Error saving rename map: ".concat(t.t0));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function y(t,e){var r=i(e.split("_")),n=r[0],o=r.slice(1);return t.Type=n,t.SubType=o.join(""),t}function v(t,e){return b.apply(this,arguments)}function b(){return(b=c(o().mark((function t(e,r){var n,i,a;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,u.promises.readFile(e,"utf8");case 3:return n=t.sent,i=JSON.parse(n),a=y(i,r),t.next=8,u.promises.writeFile(e,JSON.stringify(a,null,2));case 8:console.log("Updated JSON file: ".concat(e)),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error("Error processing JSON file (".concat(e,"): ").concat(t.t0));case 14:case"end":return t.stop()}}),t,null,[[0,11]])})))).apply(this,arguments)}function w(t,e){return _.apply(this,arguments)}function _(){return(_=c(o().mark((function t(e,r){var n,i,a,s,c,h;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=r.split("_").shift()+"_"+r.split("_").slice(1).join(""),i=l.join(e,r),a=l.join(e,n),!f[r]){t.next=6;break}return console.log("Skipping already renamed folder: ".concat(r)),t.abrupt("return");case 6:if(f[r]=n,!u.existsSync(a)){t.next=10;break}return console.warn("Warning: Directory already exists: ".concat(a,". Skipping rename.")),t.abrupt("return");case 10:return t.prev=10,t.next=13,u.promises.rename(i,a);case 13:return console.log("Renamed folder: ".concat(i," -> ").concat(a)),t.next=16,u.promises.readdir(a);case 16:return s=t.sent,c=s.filter((function(t){return t.endsWith("DataPack.json")})),h=c.map((function(t){return v(l.join(a,t),n)})),t.next=21,Promise.all(h);case 21:t.next=26;break;case 23:t.prev=23,t.t0=t.catch(10),console.error("Error renaming or processing folder: ".concat(t.t0));case 26:case"end":return t.stop()}}),t,null,[[10,23]])})))).apply(this,arguments)}function x(){return x=c(o().mark((function t(e){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,m(),e+="/IntegrationProcedure/",t.next=5,u.promises.readdir(e);case 5:return r=t.sent,n=r.map(function(){var t=c(o().mark((function t(r){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=l.join(e,r),t.next=3,u.promises.stat(n);case 3:if(!t.sent.isDirectory()||f[r]){t.next=9;break}return t.next=7,w(e,r);case 7:t.next=10;break;case 9:console.log("Skipping non-directory or already processed folder: ".concat(r));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=9,Promise.all(n);case 9:return t.next=11,d();case 11:t.next=16;break;case 13:t.prev=13,t.t0=t.catch(0),console.error("Error processing folders: ".concat(t.t0));case 16:case"end":return t.stop()}}),t,null,[[0,13]])}))),x.apply(this,arguments)}t.exports={startProcess:function(t){return x.apply(this,arguments)}}},772:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(383),i=r(3),a=i.resolve(process.cwd(),"./omniUtils/IntegrationProcedure/renameMapIP.json"),s={},c={keysWithChildNodes:[],keysWithoutChildNodes:["PropertySetConfig","Name"],values:[],paths:["OmniProcessElement"]};function u(t,e,r,n){return!(!n||!c.keysWithChildNodes.includes(t))||(!(n||!c.keysWithoutChildNodes.includes(t))||(!!c.paths.includes(e)||!(n||!c.values.includes(r))))}function l(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=!1;return Array.isArray(t)?t.forEach((function(o,i){var a="".concat(e,"[").concat(i,"]");if("object"===n(o))r=l(o,a)||r;else if("string"==typeof o){var s=h(o);s===o||u(i,a,o,!1)||(t[i]=s,r=!0)}})):"object"===n(t)&&null!==t&&Object.keys(t).forEach((function(o){var i=t[o],a=e?"".concat(e,".").concat(o):o,s="object"===n(i)&&null!==i;if(!u(o,a,i,s))if(s)r=l(i,a)||r;else if("string"==typeof i){var c=h(i);c!==i&&(t[o]=c,r=!0)}})),r}function h(t){var e=t;return Object.keys(s).forEach((function(r){t.includes(r)&&(e=e.split(r).join(s[r]))})),e}function p(t,e){o.readdir(t,(function(r,n){if(r)return console.error("Error reading directory: ".concat(r));var a=[];n.forEach((function(e){var r=i.join(t,e);a.push(new Promise((function(t,n){o.stat(r,(function(a,s){if(a)return n("Error stating file: ".concat(a));s.isDirectory()?p(r,t):s.isFile()&&".json"===i.extname(e)?o.readFile(r,"utf8",(function(e,i){if(e)return n("Error reading file: ".concat(e));var a;try{a=JSON.parse(i)}catch(e){return n("Error parsing JSON: ".concat(e))}l(a)?o.writeFile(r,JSON.stringify(a,null,2),(function(e){if(e)return n("Error writing file: ".concat(e));t()})):t()})):t()}))})))})),Promise.all(a).then((function(){e&&e()})).catch((function(t){console.error(t)}))}))}t.exports={startProcess:function(t){var e=[t+"/FlexCard/",t+"/OmniScript/",t+"/IntegrationProcedure/"];try{s=JSON.parse(o.readFileSync(a,"utf8"))}catch(t){console.error("Could not found rename map json file: ".concat(t,", the process will exit.")),process.exit(1)}var r=[];e.forEach((function(t){r.push(new Promise((function(e){p(t,e)})))})),Promise.all(r).then((function(){console.log("JSON files have been updated based on the rename map.")})).catch((function(t){console.error("An error occurred during the process:",t)}))}}},158:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}function o(){"use strict";o=function(){return e};var t,e={},r=Object.prototype,i=r.hasOwnProperty,a=Object.defineProperty||function(t,e,r){t[e]=r.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",u=s.asyncIterator||"@@asyncIterator",l=s.toStringTag||"@@toStringTag";function h(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,r){return t[e]=r}}function p(t,e,r,n){var o=e&&e.prototype instanceof b?e:b,i=Object.create(o.prototype),s=new L(n||[]);return a(i,"_invoke",{value:A(t,r,s)}),i}function f(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}e.wrap=p;var m="suspendedStart",d="suspendedYield",g="executing",y="completed",v={};function b(){}function w(){}function _(){}var x={};h(x,c,(function(){return this}));var O=Object.getPrototypeOf,E=O&&O(O($([])));E&&E!==r&&i.call(E,c)&&(x=E);var S=_.prototype=b.prototype=Object.create(x);function k(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function C(t,e){function r(o,a,s,c){var u=f(t[o],t,a);if("throw"!==u.type){var l=u.arg,h=l.value;return h&&"object"==n(h)&&i.call(h,"__await")?e.resolve(h.__await).then((function(t){r("next",t,s,c)}),(function(t){r("throw",t,s,c)})):e.resolve(h).then((function(t){l.value=t,s(l)}),(function(t){return r("throw",t,s,c)}))}c(u.arg)}var o;a(this,"_invoke",{value:function(t,n){function i(){return new e((function(e,o){r(t,n,e,o)}))}return o=o?o.then(i,i):i()}})}function A(e,r,n){var o=m;return function(i,a){if(o===g)throw Error("Generator is already running");if(o===y){if("throw"===i)throw a;return{value:t,done:!0}}for(n.method=i,n.arg=a;;){var s=n.delegate;if(s){var c=j(s,n);if(c){if(c===v)continue;return c}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(o===m)throw o=y,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);o=g;var u=f(e,r,n);if("normal"===u.type){if(o=n.done?y:d,u.arg===v)continue;return{value:u.arg,done:n.done}}"throw"===u.type&&(o=y,n.method="throw",n.arg=u.arg)}}}function j(e,r){var n=r.method,o=e.iterator[n];if(o===t)return r.delegate=null,"throw"===n&&e.iterator.return&&(r.method="return",r.arg=t,j(e,r),"throw"===r.method)||"return"!==n&&(r.method="throw",r.arg=new TypeError("The iterator does not provide a '"+n+"' method")),v;var i=f(o,e.iterator,r.arg);if("throw"===i.type)return r.method="throw",r.arg=i.arg,r.delegate=null,v;var a=i.arg;return a?a.done?(r[e.resultName]=a.value,r.next=e.nextLoc,"return"!==r.method&&(r.method="next",r.arg=t),r.delegate=null,v):a:(r.method="throw",r.arg=new TypeError("iterator result is not an object"),r.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function N(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function L(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function $(e){if(e||""===e){var r=e[c];if(r)return r.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function r(){for(;++o<e.length;)if(i.call(e,o))return r.value=e[o],r.done=!1,r;return r.value=t,r.done=!0,r};return a.next=a}}throw new TypeError(n(e)+" is not iterable")}return w.prototype=_,a(S,"constructor",{value:_,configurable:!0}),a(_,"constructor",{value:w,configurable:!0}),w.displayName=h(_,l,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,_):(t.__proto__=_,h(t,l,"GeneratorFunction")),t.prototype=Object.create(S),t},e.awrap=function(t){return{__await:t}},k(C.prototype),h(C.prototype,u,(function(){return this})),e.AsyncIterator=C,e.async=function(t,r,n,o,i){void 0===i&&(i=Promise);var a=new C(p(t,r,n,o),i);return e.isGeneratorFunction(r)?a:a.next().then((function(t){return t.done?t.value:a.next()}))},k(S),h(S,l,"Generator"),h(S,c,(function(){return this})),h(S,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),r=[];for(var n in e)r.push(n);return r.reverse(),function t(){for(;r.length;){var n=r.pop();if(n in e)return t.value=n,t.done=!1,t}return t.done=!0,t}},e.values=$,L.prototype={constructor:L,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(N),!e)for(var r in this)"t"===r.charAt(0)&&i.call(this,r)&&!isNaN(+r.slice(1))&&(this[r]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var r=this;function n(n,o){return s.type="throw",s.arg=e,r.next=n,o&&(r.method="next",r.arg=t),!!o}for(var o=this.tryEntries.length-1;o>=0;--o){var a=this.tryEntries[o],s=a.completion;if("root"===a.tryLoc)return n("end");if(a.tryLoc<=this.prev){var c=i.call(a,"catchLoc"),u=i.call(a,"finallyLoc");if(c&&u){if(this.prev<a.catchLoc)return n(a.catchLoc,!0);if(this.prev<a.finallyLoc)return n(a.finallyLoc)}else if(c){if(this.prev<a.catchLoc)return n(a.catchLoc,!0)}else{if(!u)throw Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return n(a.finallyLoc)}}}},abrupt:function(t,e){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&i.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var a=o?o.completion:{};return a.type=t,a.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(a)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.finallyLoc===t)return this.complete(r.completion,r.afterLoc),N(r),v}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var r=this.tryEntries[e];if(r.tryLoc===t){var n=r.completion;if("throw"===n.type){var o=n.arg;N(r)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,r,n){return this.delegate={iterator:$(e),resultName:r,nextLoc:n},"next"===this.method&&(this.arg=t),v}},e}function i(t,e,r,n,o,i,a){try{var s=t[i](a),c=s.value}catch(t){return void r(t)}s.done?e(c):Promise.resolve(c).then(n,o)}function a(t){return function(){var e=this,r=arguments;return new Promise((function(n,o){var a=t.apply(e,r);function s(t){i(a,n,o,s,c,"next",t)}function c(t){i(a,n,o,s,c,"throw",t)}s(void 0)}))}}var s=r(383),c=r(3),u=c.resolve(process.cwd(),"./omniUtils/OmniScript/renameMapOmni.json"),l=c.dirname(u),h={};function p(){try{!function(t){s.existsSync(t)||s.mkdirSync(t,{recursive:!0})}(l),s.writeFileSync(u,"{}","utf8"),console.log("Rename map file ".concat(u," has been emptied."))}catch(t){console.error("Error emptying rename map file: ".concat(t))}}function f(){return m.apply(this,arguments)}function m(){return(m=a(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,s.promises.writeFile(u,JSON.stringify(h,null,2));case 3:console.log("Rename map has been saved."),t.next=9;break;case 6:t.prev=6,t.t0=t.catch(0),console.error("Error saving rename map: ".concat(t.t0));case 9:case"end":return t.stop()}}),t,null,[[0,6]])})))).apply(this,arguments)}function d(t,e){var r=e.split("_"),n=r[0],o=r.slice(1,-1).join("_");return t.Type=n,t.SubType=o,t}function g(t){if(t.PropertySetConfig&&t.PropertySetConfig.lwcName){var e=t.PropertySetConfig.lwcName;e.startsWith("cf")&&(t.PropertySetConfig.lwcName=e.replace(/_/g,""))}}function y(t,e){return v.apply(this,arguments)}function v(){return v=a(o().mark((function t(e,r){var n,i,a,c=arguments;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.length>2&&void 0!==c[2]&&c[2],t.prev=1,t.next=4,s.promises.readFile(e,"utf8");case 4:return i=t.sent,a=JSON.parse(i),n&&(a=d(a,r)),g(a),t.next=10,s.promises.writeFile(e,JSON.stringify(a,null,2));case 10:console.log("Updated JSON file: ".concat(e)),t.next=16;break;case 13:t.prev=13,t.t0=t.catch(1),console.error("Error processing JSON file (".concat(e,"): ").concat(t.t0));case 16:case"end":return t.stop()}}),t,null,[[1,13]])}))),v.apply(this,arguments)}function b(t,e){return w.apply(this,arguments)}function w(){return(w=a(o().mark((function t(e,r){var n,i,a,u,l,p,m,d;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=(r.match(/_/g)||[]).length,i=r,!h[r]){t.next=5;break}return console.log("Skipping already renamed folder: ".concat(r)),t.abrupt("return");case 5:if(n>2&&(a=r.split("_"),i=a[0]+"_"+a.slice(1,-1).join("")+"_"+a[a.length-1]),u=c.join(e,r),l=c.join(e,i),!s.existsSync(l)){t.next=12;break}return console.warn("Warning: Directory already exists: ".concat(l,". Skipping rename.")),h[r]=i,t.abrupt("return");case 12:return t.prev=12,t.next=15,s.promises.rename(u,l);case 15:return console.log("Renamed folder: ".concat(u," -> ").concat(l)),t.next=18,s.promises.readdir(l);case 18:return p=t.sent,m=p.filter((function(t){return t.endsWith(".json")})),d=m.map((function(t){var e=c.join(l,t),r=t.endsWith("DataPack.json");return y(e,i,r)})),t.next=23,Promise.all(d);case 23:return h[r]=i,t.next=26,f();case 26:t.next=31;break;case 28:t.prev=28,t.t0=t.catch(12),console.error("Error renaming or processing folder: ".concat(t.t0));case 31:case"end":return t.stop()}}),t,null,[[12,28]])})))).apply(this,arguments)}function _(){return _=a(o().mark((function t(e){var r,n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,p(),e+="/OmniScript/",t.next=5,s.promises.readdir(e);case 5:return r=t.sent,n=r.map(function(){var t=a(o().mark((function t(r){var n;return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=c.join(e,r),t.next=3,s.promises.stat(n);case 3:if(!t.sent.isDirectory()||h[r]){t.next=9;break}return t.next=7,b(e,r);case 7:t.next=10;break;case 9:console.log("Skipping non-directory or already processed folder: ".concat(r));case 10:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),t.next=9,Promise.all(n);case 9:t.next=14;break;case 11:t.prev=11,t.t0=t.catch(0),console.error("Error processing folders: ".concat(t.t0));case 14:case"end":return t.stop()}}),t,null,[[0,11]])}))),_.apply(this,arguments)}t.exports={startProcess:function(t){return _.apply(this,arguments)}}},728:(t,e,r)=>{function n(t){return n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},n(t)}var o=r(383),i=r(3),a=i.resolve(process.cwd(),"./omniUtils/OmniScript/renameMapOmni.json"),s={};function c(t){if("object"!==n(t)||null===t)return!1;var e=!1;for(var r in t.stateAction&&("OmniScript"!==t.stateAction.type&&"OmniScripts"!==t.stateAction.flyoutType||(e=function(t){var e=!1;function r(t){var e=t.split("/").join("_"),r=s[e];return r?r.split("_").join("/"):null}if(t.osName){var n=r(t.osName);n&&(t.osName=n,t.flyoutLwc=n.replace(/\//g,"-").replace(/([A-Z])/g,"-$1").replace(/--+/g,"-").replace(/^-/,"").toLowerCase(),e=!0)}if(t.omniType&&t.omniType.Name){var o=r(t.omniType.Name);o&&(t.omniType.Name=o,e=!0)}return e}(t.stateAction))),t)if(t.hasOwnProperty(r)){var o=t[r];"object"===n(o)&&null!==o&&(e=c(o)||e)}return e}function u(t,e){o.readdir(t,(function(r,n){if(r)return console.error("Error reading directory: ".concat(r));var a=[];n.forEach((function(e){var r=i.join(t,e);a.push(new Promise((function(t,n){o.stat(r,(function(a,l){if(a)return n("Error stating file: ".concat(a));l.isDirectory()?u(r,t):l.isFile()&&".json"===i.extname(e)?o.readFile(r,"utf8",(function(e,i){if(e)return n("Error reading file: ".concat(e));var a;try{a=JSON.parse(i)}catch(e){return n("Error parsing JSON: ".concat(e))}var u=function(t){if("OmniScript"===t.Type&&"OmniProcessElement"===t.VlocityRecordSObjectType&&t.PropertySetConfig){var e=t.PropertySetConfig,r=e.Type,n=e.Language,o=t.PropertySetConfig["Sub Type"],i="".concat(r,"_").concat(o,"_").concat(n);if(s[i]){var a=s[i].split("_");return t.PropertySetConfig.Type=a[0],a.length>2&&(t.PropertySetConfig["Sub Type"]=a.slice(1,-1).join("_"),t.PropertySetConfig.Language=a[a.length-1]),!0}}return!1}(a)||c(a);u?o.writeFile(r,JSON.stringify(a,null,2),(function(e){if(e)return n("Error writing file: ".concat(e));t()})):t()})):t()}))})))})),Promise.all(a).then((function(){e&&e()})).catch((function(t){console.error(t)}))}))}t.exports={startProcess:function(t){try{s=JSON.parse(o.readFileSync(a,"utf8"))}catch(t){console.error("Could not found rename map json file: ".concat(t,", the process will exit.")),process.exit(1)}var e=[];[t+"/OmniScript/",t+"/FlexCard/"].forEach((function(t){e.push(new Promise((function(e){u(t,e)})))})),Promise.all(e).then((function(){console.log("JSON files have been updated based on the rename map.")})).catch((function(t){console.error("An error occurred during the process:",t)}))}}},383:t=>{"use strict";t.exports=require("fs")},3:t=>{"use strict";t.exports=require("path")},317:t=>{"use strict";t.exports=require("child_process")},421:t=>{"use strict";t.exports=require("node:child_process")},474:t=>{"use strict";t.exports=require("node:events")},24:t=>{"use strict";t.exports=require("node:fs")},760:t=>{"use strict";t.exports=require("node:path")},708:t=>{"use strict";t.exports=require("node:process")},116:(t,e,r)=>{const{Argument:n}=r(297),{Command:o}=r(749),{CommanderError:i,InvalidArgumentError:a}=r(666),{Help:s}=r(693),{Option:c}=r(19);e.program=new o,e.createCommand=t=>new o(t),e.createOption=(t,e)=>new c(t,e),e.createArgument=(t,e)=>new n(t,e),e.Command=o,e.Option=c,e.Argument=n,e.Help=s,e.CommanderError=i,e.InvalidArgumentError=a,e.InvalidOptionArgumentError=a},297:(t,e,r)=>{const{InvalidArgumentError:n}=r(666);e.Argument=class{constructor(t,e){switch(this.description=e||"",this.variadic=!1,this.parseArg=void 0,this.defaultValue=void 0,this.defaultValueDescription=void 0,this.argChoices=void 0,t[0]){case"<":this.required=!0,this._name=t.slice(1,-1);break;case"[":this.required=!1,this._name=t.slice(1,-1);break;default:this.required=!0,this._name=t}this._name.length>3&&"..."===this._name.slice(-3)&&(this.variadic=!0,this._name=this._name.slice(0,-3))}name(){return this._name}_concatValue(t,e){return e!==this.defaultValue&&Array.isArray(e)?e.concat(t):[t]}default(t,e){return this.defaultValue=t,this.defaultValueDescription=e,this}argParser(t){return this.parseArg=t,this}choices(t){return this.argChoices=t.slice(),this.parseArg=(t,e)=>{if(!this.argChoices.includes(t))throw new n(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(t,e):t},this}argRequired(){return this.required=!0,this}argOptional(){return this.required=!1,this}},e.humanReadableArgName=function(t){const e=t.name()+(!0===t.variadic?"...":"");return t.required?"<"+e+">":"["+e+"]"}},749:(t,e,r)=>{const n=r(474).EventEmitter,o=r(421),i=r(760),a=r(24),s=r(708),{Argument:c,humanReadableArgName:u}=r(297),{CommanderError:l}=r(666),{Help:h}=r(693),{Option:p,DualOptions:f}=r(19),{suggestSimilar:m}=r(369);class d extends n{constructor(t){super(),this.commands=[],this.options=[],this.parent=null,this._allowUnknownOption=!1,this._allowExcessArguments=!0,this.registeredArguments=[],this._args=this.registeredArguments,this.args=[],this.rawArgs=[],this.processedArgs=[],this._scriptPath=null,this._name=t||"",this._optionValues={},this._optionValueSources={},this._storeOptionsAsProperties=!1,this._actionHandler=null,this._executableHandler=!1,this._executableFile=null,this._executableDir=null,this._defaultCommandName=null,this._exitCallback=null,this._aliases=[],this._combineFlagAndOptionalValue=!0,this._description="",this._summary="",this._argsDescription=void 0,this._enablePositionalOptions=!1,this._passThroughOptions=!1,this._lifeCycleHooks={},this._showHelpAfterError=!1,this._showSuggestionAfterError=!0,this._outputConfiguration={writeOut:t=>s.stdout.write(t),writeErr:t=>s.stderr.write(t),getOutHelpWidth:()=>s.stdout.isTTY?s.stdout.columns:void 0,getErrHelpWidth:()=>s.stderr.isTTY?s.stderr.columns:void 0,outputError:(t,e)=>e(t)},this._hidden=!1,this._helpOption=void 0,this._addImplicitHelpCommand=void 0,this._helpCommand=void 0,this._helpConfiguration={}}copyInheritedSettings(t){return this._outputConfiguration=t._outputConfiguration,this._helpOption=t._helpOption,this._helpCommand=t._helpCommand,this._helpConfiguration=t._helpConfiguration,this._exitCallback=t._exitCallback,this._storeOptionsAsProperties=t._storeOptionsAsProperties,this._combineFlagAndOptionalValue=t._combineFlagAndOptionalValue,this._allowExcessArguments=t._allowExcessArguments,this._enablePositionalOptions=t._enablePositionalOptions,this._showHelpAfterError=t._showHelpAfterError,this._showSuggestionAfterError=t._showSuggestionAfterError,this}_getCommandAndAncestors(){const t=[];for(let e=this;e;e=e.parent)t.push(e);return t}command(t,e,r){let n=e,o=r;"object"==typeof n&&null!==n&&(o=n,n=null),o=o||{};const[,i,a]=t.match(/([^ ]+) *(.*)/),s=this.createCommand(i);return n&&(s.description(n),s._executableHandler=!0),o.isDefault&&(this._defaultCommandName=s._name),s._hidden=!(!o.noHelp&&!o.hidden),s._executableFile=o.executableFile||null,a&&s.arguments(a),this._registerCommand(s),s.parent=this,s.copyInheritedSettings(this),n?this:s}createCommand(t){return new d(t)}createHelp(){return Object.assign(new h,this.configureHelp())}configureHelp(t){return void 0===t?this._helpConfiguration:(this._helpConfiguration=t,this)}configureOutput(t){return void 0===t?this._outputConfiguration:(Object.assign(this._outputConfiguration,t),this)}showHelpAfterError(t=!0){return"string"!=typeof t&&(t=!!t),this._showHelpAfterError=t,this}showSuggestionAfterError(t=!0){return this._showSuggestionAfterError=!!t,this}addCommand(t,e){if(!t._name)throw new Error("Command passed to .addCommand() must have a name\n- specify the name in Command constructor or using .name()");return(e=e||{}).isDefault&&(this._defaultCommandName=t._name),(e.noHelp||e.hidden)&&(t._hidden=!0),this._registerCommand(t),t.parent=this,t._checkForBrokenPassThrough(),this}createArgument(t,e){return new c(t,e)}argument(t,e,r,n){const o=this.createArgument(t,e);return"function"==typeof r?o.default(n).argParser(r):o.default(r),this.addArgument(o),this}arguments(t){return t.trim().split(/ +/).forEach((t=>{this.argument(t)})),this}addArgument(t){const e=this.registeredArguments.slice(-1)[0];if(e&&e.variadic)throw new Error(`only the last argument can be variadic '${e.name()}'`);if(t.required&&void 0!==t.defaultValue&&void 0===t.parseArg)throw new Error(`a default value for a required argument is never used: '${t.name()}'`);return this.registeredArguments.push(t),this}helpCommand(t,e){if("boolean"==typeof t)return this._addImplicitHelpCommand=t,this;t=t??"help [command]";const[,r,n]=t.match(/([^ ]+) *(.*)/),o=e??"display help for command",i=this.createCommand(r);return i.helpOption(!1),n&&i.arguments(n),o&&i.description(o),this._addImplicitHelpCommand=!0,this._helpCommand=i,this}addHelpCommand(t,e){return"object"!=typeof t?(this.helpCommand(t,e),this):(this._addImplicitHelpCommand=!0,this._helpCommand=t,this)}_getHelpCommand(){return this._addImplicitHelpCommand??(this.commands.length&&!this._actionHandler&&!this._findCommand("help"))?(void 0===this._helpCommand&&this.helpCommand(void 0,void 0),this._helpCommand):null}hook(t,e){const r=["preSubcommand","preAction","postAction"];if(!r.includes(t))throw new Error(`Unexpected value for event passed to hook : '${t}'.\nExpecting one of '${r.join("', '")}'`);return this._lifeCycleHooks[t]?this._lifeCycleHooks[t].push(e):this._lifeCycleHooks[t]=[e],this}exitOverride(t){return this._exitCallback=t||(t=>{if("commander.executeSubCommandAsync"!==t.code)throw t}),this}_exit(t,e,r){this._exitCallback&&this._exitCallback(new l(t,e,r)),s.exit(t)}action(t){return this._actionHandler=e=>{const r=this.registeredArguments.length,n=e.slice(0,r);return this._storeOptionsAsProperties?n[r]=this:n[r]=this.opts(),n.push(this),t.apply(this,n)},this}createOption(t,e){return new p(t,e)}_callParseArg(t,e,r,n){try{return t.parseArg(e,r)}catch(t){if("commander.invalidArgument"===t.code){const e=`${n} ${t.message}`;this.error(e,{exitCode:t.exitCode,code:t.code})}throw t}}_registerOption(t){const e=t.short&&this._findOption(t.short)||t.long&&this._findOption(t.long);if(e){const r=t.long&&this._findOption(t.long)?t.long:t.short;throw new Error(`Cannot add option '${t.flags}'${this._name&&` to command '${this._name}'`} due to conflicting flag '${r}'\n-  already used by option '${e.flags}'`)}this.options.push(t)}_registerCommand(t){const e=t=>[t.name()].concat(t.aliases()),r=e(t).find((t=>this._findCommand(t)));if(r){const n=e(this._findCommand(r)).join("|"),o=e(t).join("|");throw new Error(`cannot add command '${o}' as already have command '${n}'`)}this.commands.push(t)}addOption(t){this._registerOption(t);const e=t.name(),r=t.attributeName();if(t.negate){const e=t.long.replace(/^--no-/,"--");this._findOption(e)||this.setOptionValueWithSource(r,void 0===t.defaultValue||t.defaultValue,"default")}else void 0!==t.defaultValue&&this.setOptionValueWithSource(r,t.defaultValue,"default");const n=(e,n,o)=>{null==e&&void 0!==t.presetArg&&(e=t.presetArg);const i=this.getOptionValue(r);null!==e&&t.parseArg?e=this._callParseArg(t,e,i,n):null!==e&&t.variadic&&(e=t._concatValue(e,i)),null==e&&(e=!t.negate&&(!(!t.isBoolean()&&!t.optional)||"")),this.setOptionValueWithSource(r,e,o)};return this.on("option:"+e,(e=>{const r=`error: option '${t.flags}' argument '${e}' is invalid.`;n(e,r,"cli")})),t.envVar&&this.on("optionEnv:"+e,(e=>{const r=`error: option '${t.flags}' value '${e}' from env '${t.envVar}' is invalid.`;n(e,r,"env")})),this}_optionEx(t,e,r,n,o){if("object"==typeof e&&e instanceof p)throw new Error("To add an Option object use addOption() instead of option() or requiredOption()");const i=this.createOption(e,r);if(i.makeOptionMandatory(!!t.mandatory),"function"==typeof n)i.default(o).argParser(n);else if(n instanceof RegExp){const t=n;n=(e,r)=>{const n=t.exec(e);return n?n[0]:r},i.default(o).argParser(n)}else i.default(n);return this.addOption(i)}option(t,e,r,n){return this._optionEx({},t,e,r,n)}requiredOption(t,e,r,n){return this._optionEx({mandatory:!0},t,e,r,n)}combineFlagAndOptionalValue(t=!0){return this._combineFlagAndOptionalValue=!!t,this}allowUnknownOption(t=!0){return this._allowUnknownOption=!!t,this}allowExcessArguments(t=!0){return this._allowExcessArguments=!!t,this}enablePositionalOptions(t=!0){return this._enablePositionalOptions=!!t,this}passThroughOptions(t=!0){return this._passThroughOptions=!!t,this._checkForBrokenPassThrough(),this}_checkForBrokenPassThrough(){if(this.parent&&this._passThroughOptions&&!this.parent._enablePositionalOptions)throw new Error(`passThroughOptions cannot be used for '${this._name}' without turning on enablePositionalOptions for parent command(s)`)}storeOptionsAsProperties(t=!0){if(this.options.length)throw new Error("call .storeOptionsAsProperties() before adding options");if(Object.keys(this._optionValues).length)throw new Error("call .storeOptionsAsProperties() before setting option values");return this._storeOptionsAsProperties=!!t,this}getOptionValue(t){return this._storeOptionsAsProperties?this[t]:this._optionValues[t]}setOptionValue(t,e){return this.setOptionValueWithSource(t,e,void 0)}setOptionValueWithSource(t,e,r){return this._storeOptionsAsProperties?this[t]=e:this._optionValues[t]=e,this._optionValueSources[t]=r,this}getOptionValueSource(t){return this._optionValueSources[t]}getOptionValueSourceWithGlobals(t){let e;return this._getCommandAndAncestors().forEach((r=>{void 0!==r.getOptionValueSource(t)&&(e=r.getOptionValueSource(t))})),e}_prepareUserArgs(t,e){if(void 0!==t&&!Array.isArray(t))throw new Error("first parameter to parse must be array or undefined");if(e=e||{},void 0===t&&void 0===e.from){s.versions?.electron&&(e.from="electron");const t=s.execArgv??[];(t.includes("-e")||t.includes("--eval")||t.includes("-p")||t.includes("--print"))&&(e.from="eval")}let r;switch(void 0===t&&(t=s.argv),this.rawArgs=t.slice(),e.from){case void 0:case"node":this._scriptPath=t[1],r=t.slice(2);break;case"electron":s.defaultApp?(this._scriptPath=t[1],r=t.slice(2)):r=t.slice(1);break;case"user":r=t.slice(0);break;case"eval":r=t.slice(1);break;default:throw new Error(`unexpected parse option { from: '${e.from}' }`)}return!this._name&&this._scriptPath&&this.nameFromFilename(this._scriptPath),this._name=this._name||"program",r}parse(t,e){const r=this._prepareUserArgs(t,e);return this._parseCommand([],r),this}async parseAsync(t,e){const r=this._prepareUserArgs(t,e);return await this._parseCommand([],r),this}_executeSubCommand(t,e){e=e.slice();let r=!1;const n=[".js",".ts",".tsx",".mjs",".cjs"];function c(t,e){const r=i.resolve(t,e);if(a.existsSync(r))return r;if(n.includes(i.extname(e)))return;const o=n.find((t=>a.existsSync(`${r}${t}`)));return o?`${r}${o}`:void 0}this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();let u,h=t._executableFile||`${this._name}-${t._name}`,p=this._executableDir||"";if(this._scriptPath){let t;try{t=a.realpathSync(this._scriptPath)}catch(e){t=this._scriptPath}p=i.resolve(i.dirname(t),p)}if(p){let e=c(p,h);if(!e&&!t._executableFile&&this._scriptPath){const r=i.basename(this._scriptPath,i.extname(this._scriptPath));r!==this._name&&(e=c(p,`${r}-${t._name}`))}h=e||h}if(r=n.includes(i.extname(h)),"win32"!==s.platform?r?(e.unshift(h),e=g(s.execArgv).concat(e),u=o.spawn(s.argv[0],e,{stdio:"inherit"})):u=o.spawn(h,e,{stdio:"inherit"}):(e.unshift(h),e=g(s.execArgv).concat(e),u=o.spawn(s.execPath,e,{stdio:"inherit"})),!u.killed){["SIGUSR1","SIGUSR2","SIGTERM","SIGINT","SIGHUP"].forEach((t=>{s.on(t,(()=>{!1===u.killed&&null===u.exitCode&&u.kill(t)}))}))}const f=this._exitCallback;u.on("close",(t=>{t=t??1,f?f(new l(t,"commander.executeSubCommandAsync","(close)")):s.exit(t)})),u.on("error",(e=>{if("ENOENT"===e.code){const e=p?`searched for local subcommand relative to directory '${p}'`:"no directory for search for local subcommand, use .executableDir() to supply a custom directory",r=`'${h}' does not exist\n - if '${t._name}' is not meant to be an executable command, remove description parameter from '.command()' and use '.description()' instead\n - if the default executable name is not suitable, use the executableFile option to supply a custom name or path\n - ${e}`;throw new Error(r)}if("EACCES"===e.code)throw new Error(`'${h}' not executable`);if(f){const t=new l(1,"commander.executeSubCommandAsync","(error)");t.nestedError=e,f(t)}else s.exit(1)})),this.runningCommand=u}_dispatchSubcommand(t,e,r){const n=this._findCommand(t);let o;return n||this.help({error:!0}),o=this._chainOrCallSubCommandHook(o,n,"preSubcommand"),o=this._chainOrCall(o,(()=>{if(!n._executableHandler)return n._parseCommand(e,r);this._executeSubCommand(n,e.concat(r))})),o}_dispatchHelpCommand(t){t||this.help();const e=this._findCommand(t);return e&&!e._executableHandler&&e.help(),this._dispatchSubcommand(t,[],[this._getHelpOption()?.long??this._getHelpOption()?.short??"--help"])}_checkNumberOfArguments(){this.registeredArguments.forEach(((t,e)=>{t.required&&null==this.args[e]&&this.missingArgument(t.name())})),this.registeredArguments.length>0&&this.registeredArguments[this.registeredArguments.length-1].variadic||this.args.length>this.registeredArguments.length&&this._excessArguments(this.args)}_processArguments(){const t=(t,e,r)=>{let n=e;if(null!==e&&t.parseArg){const o=`error: command-argument value '${e}' is invalid for argument '${t.name()}'.`;n=this._callParseArg(t,e,r,o)}return n};this._checkNumberOfArguments();const e=[];this.registeredArguments.forEach(((r,n)=>{let o=r.defaultValue;r.variadic?n<this.args.length?(o=this.args.slice(n),r.parseArg&&(o=o.reduce(((e,n)=>t(r,n,e)),r.defaultValue))):void 0===o&&(o=[]):n<this.args.length&&(o=this.args[n],r.parseArg&&(o=t(r,o,r.defaultValue))),e[n]=o})),this.processedArgs=e}_chainOrCall(t,e){return t&&t.then&&"function"==typeof t.then?t.then((()=>e())):e()}_chainOrCallHooks(t,e){let r=t;const n=[];return this._getCommandAndAncestors().reverse().filter((t=>void 0!==t._lifeCycleHooks[e])).forEach((t=>{t._lifeCycleHooks[e].forEach((e=>{n.push({hookedCommand:t,callback:e})}))})),"postAction"===e&&n.reverse(),n.forEach((t=>{r=this._chainOrCall(r,(()=>t.callback(t.hookedCommand,this)))})),r}_chainOrCallSubCommandHook(t,e,r){let n=t;return void 0!==this._lifeCycleHooks[r]&&this._lifeCycleHooks[r].forEach((t=>{n=this._chainOrCall(n,(()=>t(this,e)))})),n}_parseCommand(t,e){const r=this.parseOptions(e);if(this._parseOptionsEnv(),this._parseOptionsImplied(),t=t.concat(r.operands),e=r.unknown,this.args=t.concat(e),t&&this._findCommand(t[0]))return this._dispatchSubcommand(t[0],t.slice(1),e);if(this._getHelpCommand()&&t[0]===this._getHelpCommand().name())return this._dispatchHelpCommand(t[1]);if(this._defaultCommandName)return this._outputHelpIfRequested(e),this._dispatchSubcommand(this._defaultCommandName,t,e);!this.commands.length||0!==this.args.length||this._actionHandler||this._defaultCommandName||this.help({error:!0}),this._outputHelpIfRequested(r.unknown),this._checkForMissingMandatoryOptions(),this._checkForConflictingOptions();const n=()=>{r.unknown.length>0&&this.unknownOption(r.unknown[0])},o=`command:${this.name()}`;if(this._actionHandler){let r;return n(),this._processArguments(),r=this._chainOrCallHooks(r,"preAction"),r=this._chainOrCall(r,(()=>this._actionHandler(this.processedArgs))),this.parent&&(r=this._chainOrCall(r,(()=>{this.parent.emit(o,t,e)}))),r=this._chainOrCallHooks(r,"postAction"),r}if(this.parent&&this.parent.listenerCount(o))n(),this._processArguments(),this.parent.emit(o,t,e);else if(t.length){if(this._findCommand("*"))return this._dispatchSubcommand("*",t,e);this.listenerCount("command:*")?this.emit("command:*",t,e):this.commands.length?this.unknownCommand():(n(),this._processArguments())}else this.commands.length?(n(),this.help({error:!0})):(n(),this._processArguments())}_findCommand(t){if(t)return this.commands.find((e=>e._name===t||e._aliases.includes(t)))}_findOption(t){return this.options.find((e=>e.is(t)))}_checkForMissingMandatoryOptions(){this._getCommandAndAncestors().forEach((t=>{t.options.forEach((e=>{e.mandatory&&void 0===t.getOptionValue(e.attributeName())&&t.missingMandatoryOptionValue(e)}))}))}_checkForConflictingLocalOptions(){const t=this.options.filter((t=>{const e=t.attributeName();return void 0!==this.getOptionValue(e)&&"default"!==this.getOptionValueSource(e)}));t.filter((t=>t.conflictsWith.length>0)).forEach((e=>{const r=t.find((t=>e.conflictsWith.includes(t.attributeName())));r&&this._conflictingOption(e,r)}))}_checkForConflictingOptions(){this._getCommandAndAncestors().forEach((t=>{t._checkForConflictingLocalOptions()}))}parseOptions(t){const e=[],r=[];let n=e;const o=t.slice();function i(t){return t.length>1&&"-"===t[0]}let a=null;for(;o.length;){const t=o.shift();if("--"===t){n===r&&n.push(t),n.push(...o);break}if(!a||i(t)){if(a=null,i(t)){const e=this._findOption(t);if(e){if(e.required){const t=o.shift();void 0===t&&this.optionMissingArgument(e),this.emit(`option:${e.name()}`,t)}else if(e.optional){let t=null;o.length>0&&!i(o[0])&&(t=o.shift()),this.emit(`option:${e.name()}`,t)}else this.emit(`option:${e.name()}`);a=e.variadic?e:null;continue}}if(t.length>2&&"-"===t[0]&&"-"!==t[1]){const e=this._findOption(`-${t[1]}`);if(e){e.required||e.optional&&this._combineFlagAndOptionalValue?this.emit(`option:${e.name()}`,t.slice(2)):(this.emit(`option:${e.name()}`),o.unshift(`-${t.slice(2)}`));continue}}if(/^--[^=]+=/.test(t)){const e=t.indexOf("="),r=this._findOption(t.slice(0,e));if(r&&(r.required||r.optional)){this.emit(`option:${r.name()}`,t.slice(e+1));continue}}if(i(t)&&(n=r),(this._enablePositionalOptions||this._passThroughOptions)&&0===e.length&&0===r.length){if(this._findCommand(t)){e.push(t),o.length>0&&r.push(...o);break}if(this._getHelpCommand()&&t===this._getHelpCommand().name()){e.push(t),o.length>0&&e.push(...o);break}if(this._defaultCommandName){r.push(t),o.length>0&&r.push(...o);break}}if(this._passThroughOptions){n.push(t),o.length>0&&n.push(...o);break}n.push(t)}else this.emit(`option:${a.name()}`,t)}return{operands:e,unknown:r}}opts(){if(this._storeOptionsAsProperties){const t={},e=this.options.length;for(let r=0;r<e;r++){const e=this.options[r].attributeName();t[e]=e===this._versionOptionName?this._version:this[e]}return t}return this._optionValues}optsWithGlobals(){return this._getCommandAndAncestors().reduce(((t,e)=>Object.assign(t,e.opts())),{})}error(t,e){this._outputConfiguration.outputError(`${t}\n`,this._outputConfiguration.writeErr),"string"==typeof this._showHelpAfterError?this._outputConfiguration.writeErr(`${this._showHelpAfterError}\n`):this._showHelpAfterError&&(this._outputConfiguration.writeErr("\n"),this.outputHelp({error:!0}));const r=e||{},n=r.exitCode||1,o=r.code||"commander.error";this._exit(n,o,t)}_parseOptionsEnv(){this.options.forEach((t=>{if(t.envVar&&t.envVar in s.env){const e=t.attributeName();(void 0===this.getOptionValue(e)||["default","config","env"].includes(this.getOptionValueSource(e)))&&(t.required||t.optional?this.emit(`optionEnv:${t.name()}`,s.env[t.envVar]):this.emit(`optionEnv:${t.name()}`))}}))}_parseOptionsImplied(){const t=new f(this.options),e=t=>void 0!==this.getOptionValue(t)&&!["default","implied"].includes(this.getOptionValueSource(t));this.options.filter((r=>void 0!==r.implied&&e(r.attributeName())&&t.valueFromOption(this.getOptionValue(r.attributeName()),r))).forEach((t=>{Object.keys(t.implied).filter((t=>!e(t))).forEach((e=>{this.setOptionValueWithSource(e,t.implied[e],"implied")}))}))}missingArgument(t){const e=`error: missing required argument '${t}'`;this.error(e,{code:"commander.missingArgument"})}optionMissingArgument(t){const e=`error: option '${t.flags}' argument missing`;this.error(e,{code:"commander.optionMissingArgument"})}missingMandatoryOptionValue(t){const e=`error: required option '${t.flags}' not specified`;this.error(e,{code:"commander.missingMandatoryOptionValue"})}_conflictingOption(t,e){const r=t=>{const e=t.attributeName(),r=this.getOptionValue(e),n=this.options.find((t=>t.negate&&e===t.attributeName())),o=this.options.find((t=>!t.negate&&e===t.attributeName()));return n&&(void 0===n.presetArg&&!1===r||void 0!==n.presetArg&&r===n.presetArg)?n:o||t},n=t=>{const e=r(t),n=e.attributeName();return"env"===this.getOptionValueSource(n)?`environment variable '${e.envVar}'`:`option '${e.flags}'`},o=`error: ${n(t)} cannot be used with ${n(e)}`;this.error(o,{code:"commander.conflictingOption"})}unknownOption(t){if(this._allowUnknownOption)return;let e="";if(t.startsWith("--")&&this._showSuggestionAfterError){let r=[],n=this;do{const t=n.createHelp().visibleOptions(n).filter((t=>t.long)).map((t=>t.long));r=r.concat(t),n=n.parent}while(n&&!n._enablePositionalOptions);e=m(t,r)}const r=`error: unknown option '${t}'${e}`;this.error(r,{code:"commander.unknownOption"})}_excessArguments(t){if(this._allowExcessArguments)return;const e=this.registeredArguments.length,r=1===e?"":"s",n=`error: too many arguments${this.parent?` for '${this.name()}'`:""}. Expected ${e} argument${r} but got ${t.length}.`;this.error(n,{code:"commander.excessArguments"})}unknownCommand(){const t=this.args[0];let e="";if(this._showSuggestionAfterError){const r=[];this.createHelp().visibleCommands(this).forEach((t=>{r.push(t.name()),t.alias()&&r.push(t.alias())})),e=m(t,r)}const r=`error: unknown command '${t}'${e}`;this.error(r,{code:"commander.unknownCommand"})}version(t,e,r){if(void 0===t)return this._version;this._version=t,e=e||"-V, --version",r=r||"output the version number";const n=this.createOption(e,r);return this._versionOptionName=n.attributeName(),this._registerOption(n),this.on("option:"+n.name(),(()=>{this._outputConfiguration.writeOut(`${t}\n`),this._exit(0,"commander.version",t)})),this}description(t,e){return void 0===t&&void 0===e?this._description:(this._description=t,e&&(this._argsDescription=e),this)}summary(t){return void 0===t?this._summary:(this._summary=t,this)}alias(t){if(void 0===t)return this._aliases[0];let e=this;if(0!==this.commands.length&&this.commands[this.commands.length-1]._executableHandler&&(e=this.commands[this.commands.length-1]),t===e._name)throw new Error("Command alias can't be the same as its name");const r=this.parent?._findCommand(t);if(r){const e=[r.name()].concat(r.aliases()).join("|");throw new Error(`cannot add alias '${t}' to command '${this.name()}' as already have command '${e}'`)}return e._aliases.push(t),this}aliases(t){return void 0===t?this._aliases:(t.forEach((t=>this.alias(t))),this)}usage(t){if(void 0===t){if(this._usage)return this._usage;const t=this.registeredArguments.map((t=>u(t)));return[].concat(this.options.length||null!==this._helpOption?"[options]":[],this.commands.length?"[command]":[],this.registeredArguments.length?t:[]).join(" ")}return this._usage=t,this}name(t){return void 0===t?this._name:(this._name=t,this)}nameFromFilename(t){return this._name=i.basename(t,i.extname(t)),this}executableDir(t){return void 0===t?this._executableDir:(this._executableDir=t,this)}helpInformation(t){const e=this.createHelp();return void 0===e.helpWidth&&(e.helpWidth=t&&t.error?this._outputConfiguration.getErrHelpWidth():this._outputConfiguration.getOutHelpWidth()),e.formatHelp(this,e)}_getHelpContext(t){const e={error:!!(t=t||{}).error};let r;return r=e.error?t=>this._outputConfiguration.writeErr(t):t=>this._outputConfiguration.writeOut(t),e.write=t.write||r,e.command=this,e}outputHelp(t){let e;"function"==typeof t&&(e=t,t=void 0);const r=this._getHelpContext(t);this._getCommandAndAncestors().reverse().forEach((t=>t.emit("beforeAllHelp",r))),this.emit("beforeHelp",r);let n=this.helpInformation(r);if(e&&(n=e(n),"string"!=typeof n&&!Buffer.isBuffer(n)))throw new Error("outputHelp callback must return a string or a Buffer");r.write(n),this._getHelpOption()?.long&&this.emit(this._getHelpOption().long),this.emit("afterHelp",r),this._getCommandAndAncestors().forEach((t=>t.emit("afterAllHelp",r)))}helpOption(t,e){return"boolean"==typeof t?(this._helpOption=t?this._helpOption??void 0:null,this):(t=t??"-h, --help",e=e??"display help for command",this._helpOption=this.createOption(t,e),this)}_getHelpOption(){return void 0===this._helpOption&&this.helpOption(void 0,void 0),this._helpOption}addHelpOption(t){return this._helpOption=t,this}help(t){this.outputHelp(t);let e=s.exitCode||0;0===e&&t&&"function"!=typeof t&&t.error&&(e=1),this._exit(e,"commander.help","(outputHelp)")}addHelpText(t,e){const r=["beforeAll","before","after","afterAll"];if(!r.includes(t))throw new Error(`Unexpected value for position to addHelpText.\nExpecting one of '${r.join("', '")}'`);const n=`${t}Help`;return this.on(n,(t=>{let r;r="function"==typeof e?e({error:t.error,command:t.command}):e,r&&t.write(`${r}\n`)})),this}_outputHelpIfRequested(t){const e=this._getHelpOption();e&&t.find((t=>e.is(t)))&&(this.outputHelp(),this._exit(0,"commander.helpDisplayed","(outputHelp)"))}}function g(t){return t.map((t=>{if(!t.startsWith("--inspect"))return t;let e,r,n="127.0.0.1",o="9229";return null!==(r=t.match(/^(--inspect(-brk)?)$/))?e=r[1]:null!==(r=t.match(/^(--inspect(-brk|-port)?)=([^:]+)$/))?(e=r[1],/^\d+$/.test(r[3])?o=r[3]:n=r[3]):null!==(r=t.match(/^(--inspect(-brk|-port)?)=([^:]+):(\d+)$/))&&(e=r[1],n=r[3],o=r[4]),e&&"0"!==o?`${e}=${n}:${parseInt(o)+1}`:t}))}e.Command=d},666:(t,e)=>{class r extends Error{constructor(t,e,r){super(r),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name,this.code=e,this.exitCode=t,this.nestedError=void 0}}e.CommanderError=r,e.InvalidArgumentError=class extends r{constructor(t){super(1,"commander.invalidArgument",t),Error.captureStackTrace(this,this.constructor),this.name=this.constructor.name}}},693:(t,e,r)=>{const{humanReadableArgName:n}=r(297);e.Help=class{constructor(){this.helpWidth=void 0,this.sortSubcommands=!1,this.sortOptions=!1,this.showGlobalOptions=!1}visibleCommands(t){const e=t.commands.filter((t=>!t._hidden)),r=t._getHelpCommand();return r&&!r._hidden&&e.push(r),this.sortSubcommands&&e.sort(((t,e)=>t.name().localeCompare(e.name()))),e}compareOptions(t,e){const r=t=>t.short?t.short.replace(/^-/,""):t.long.replace(/^--/,"");return r(t).localeCompare(r(e))}visibleOptions(t){const e=t.options.filter((t=>!t.hidden)),r=t._getHelpOption();if(r&&!r.hidden){const n=r.short&&t._findOption(r.short),o=r.long&&t._findOption(r.long);n||o?r.long&&!o?e.push(t.createOption(r.long,r.description)):r.short&&!n&&e.push(t.createOption(r.short,r.description)):e.push(r)}return this.sortOptions&&e.sort(this.compareOptions),e}visibleGlobalOptions(t){if(!this.showGlobalOptions)return[];const e=[];for(let r=t.parent;r;r=r.parent){const t=r.options.filter((t=>!t.hidden));e.push(...t)}return this.sortOptions&&e.sort(this.compareOptions),e}visibleArguments(t){return t._argsDescription&&t.registeredArguments.forEach((e=>{e.description=e.description||t._argsDescription[e.name()]||""})),t.registeredArguments.find((t=>t.description))?t.registeredArguments:[]}subcommandTerm(t){const e=t.registeredArguments.map((t=>n(t))).join(" ");return t._name+(t._aliases[0]?"|"+t._aliases[0]:"")+(t.options.length?" [options]":"")+(e?" "+e:"")}optionTerm(t){return t.flags}argumentTerm(t){return t.name()}longestSubcommandTermLength(t,e){return e.visibleCommands(t).reduce(((t,r)=>Math.max(t,e.subcommandTerm(r).length)),0)}longestOptionTermLength(t,e){return e.visibleOptions(t).reduce(((t,r)=>Math.max(t,e.optionTerm(r).length)),0)}longestGlobalOptionTermLength(t,e){return e.visibleGlobalOptions(t).reduce(((t,r)=>Math.max(t,e.optionTerm(r).length)),0)}longestArgumentTermLength(t,e){return e.visibleArguments(t).reduce(((t,r)=>Math.max(t,e.argumentTerm(r).length)),0)}commandUsage(t){let e=t._name;t._aliases[0]&&(e=e+"|"+t._aliases[0]);let r="";for(let e=t.parent;e;e=e.parent)r=e.name()+" "+r;return r+e+" "+t.usage()}commandDescription(t){return t.description()}subcommandDescription(t){return t.summary()||t.description()}optionDescription(t){const e=[];if(t.argChoices&&e.push(`choices: ${t.argChoices.map((t=>JSON.stringify(t))).join(", ")}`),void 0!==t.defaultValue){(t.required||t.optional||t.isBoolean()&&"boolean"==typeof t.defaultValue)&&e.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`)}return void 0!==t.presetArg&&t.optional&&e.push(`preset: ${JSON.stringify(t.presetArg)}`),void 0!==t.envVar&&e.push(`env: ${t.envVar}`),e.length>0?`${t.description} (${e.join(", ")})`:t.description}argumentDescription(t){const e=[];if(t.argChoices&&e.push(`choices: ${t.argChoices.map((t=>JSON.stringify(t))).join(", ")}`),void 0!==t.defaultValue&&e.push(`default: ${t.defaultValueDescription||JSON.stringify(t.defaultValue)}`),e.length>0){const r=`(${e.join(", ")})`;return t.description?`${t.description} ${r}`:r}return t.description}formatHelp(t,e){const r=e.padWidth(t,e),n=e.helpWidth||80;function o(t,o){if(o){const i=`${t.padEnd(r+2)}${o}`;return e.wrap(i,n-2,r+2)}return t}function i(t){return t.join("\n").replace(/^/gm," ".repeat(2))}let a=[`Usage: ${e.commandUsage(t)}`,""];const s=e.commandDescription(t);s.length>0&&(a=a.concat([e.wrap(s,n,0),""]));const c=e.visibleArguments(t).map((t=>o(e.argumentTerm(t),e.argumentDescription(t))));c.length>0&&(a=a.concat(["Arguments:",i(c),""]));const u=e.visibleOptions(t).map((t=>o(e.optionTerm(t),e.optionDescription(t))));if(u.length>0&&(a=a.concat(["Options:",i(u),""])),this.showGlobalOptions){const r=e.visibleGlobalOptions(t).map((t=>o(e.optionTerm(t),e.optionDescription(t))));r.length>0&&(a=a.concat(["Global Options:",i(r),""]))}const l=e.visibleCommands(t).map((t=>o(e.subcommandTerm(t),e.subcommandDescription(t))));return l.length>0&&(a=a.concat(["Commands:",i(l),""])),a.join("\n")}padWidth(t,e){return Math.max(e.longestOptionTermLength(t,e),e.longestGlobalOptionTermLength(t,e),e.longestSubcommandTermLength(t,e),e.longestArgumentTermLength(t,e))}wrap(t,e,r,n=40){const o=new RegExp("[\\n][ \\f\\t\\v   -   　\ufeff]+");if(t.match(o))return t;const i=e-r;if(i<n)return t;const a=t.slice(0,r),s=t.slice(r).replace("\r\n","\n"),c=" ".repeat(r),u="\\s​",l=new RegExp(`\n|.{1,${i-1}}([${u}]|$)|[^${u}]+?([${u}]|$)`,"g");return a+(s.match(l)||[]).map(((t,e)=>"\n"===t?"":(e>0?c:"")+t.trimEnd())).join("\n")}}},19:(t,e,r)=>{const{InvalidArgumentError:n}=r(666);e.Option=class{constructor(t,e){this.flags=t,this.description=e||"",this.required=t.includes("<"),this.optional=t.includes("["),this.variadic=/\w\.\.\.[>\]]$/.test(t),this.mandatory=!1;const r=function(t){let e,r;const n=t.split(/[ |,]+/);n.length>1&&!/^[[<]/.test(n[1])&&(e=n.shift());r=n.shift(),!e&&/^-[^-]$/.test(r)&&(e=r,r=void 0);return{shortFlag:e,longFlag:r}}(t);this.short=r.shortFlag,this.long=r.longFlag,this.negate=!1,this.long&&(this.negate=this.long.startsWith("--no-")),this.defaultValue=void 0,this.defaultValueDescription=void 0,this.presetArg=void 0,this.envVar=void 0,this.parseArg=void 0,this.hidden=!1,this.argChoices=void 0,this.conflictsWith=[],this.implied=void 0}default(t,e){return this.defaultValue=t,this.defaultValueDescription=e,this}preset(t){return this.presetArg=t,this}conflicts(t){return this.conflictsWith=this.conflictsWith.concat(t),this}implies(t){let e=t;return"string"==typeof t&&(e={[t]:!0}),this.implied=Object.assign(this.implied||{},e),this}env(t){return this.envVar=t,this}argParser(t){return this.parseArg=t,this}makeOptionMandatory(t=!0){return this.mandatory=!!t,this}hideHelp(t=!0){return this.hidden=!!t,this}_concatValue(t,e){return e!==this.defaultValue&&Array.isArray(e)?e.concat(t):[t]}choices(t){return this.argChoices=t.slice(),this.parseArg=(t,e)=>{if(!this.argChoices.includes(t))throw new n(`Allowed choices are ${this.argChoices.join(", ")}.`);return this.variadic?this._concatValue(t,e):t},this}name(){return this.long?this.long.replace(/^--/,""):this.short.replace(/^-/,"")}attributeName(){return this.name().replace(/^no-/,"").split("-").reduce(((t,e)=>t+e[0].toUpperCase()+e.slice(1)))}is(t){return this.short===t||this.long===t}isBoolean(){return!this.required&&!this.optional&&!this.negate}},e.DualOptions=class{constructor(t){this.positiveOptions=new Map,this.negativeOptions=new Map,this.dualOptions=new Set,t.forEach((t=>{t.negate?this.negativeOptions.set(t.attributeName(),t):this.positiveOptions.set(t.attributeName(),t)})),this.negativeOptions.forEach(((t,e)=>{this.positiveOptions.has(e)&&this.dualOptions.add(e)}))}valueFromOption(t,e){const r=e.attributeName();if(!this.dualOptions.has(r))return!0;const n=this.negativeOptions.get(r).presetArg,o=void 0!==n&&n;return e.negate===(o===t)}}},369:(t,e)=>{e.suggestSimilar=function(t,e){if(!e||0===e.length)return"";e=Array.from(new Set(e));const r=t.startsWith("--");r&&(t=t.slice(2),e=e.map((t=>t.slice(2))));let n=[],o=3;return e.forEach((e=>{if(e.length<=1)return;const r=function(t,e){if(Math.abs(t.length-e.length)>3)return Math.max(t.length,e.length);const r=[];for(let e=0;e<=t.length;e++)r[e]=[e];for(let t=0;t<=e.length;t++)r[0][t]=t;for(let n=1;n<=e.length;n++)for(let o=1;o<=t.length;o++){let i=1;i=t[o-1]===e[n-1]?0:1,r[o][n]=Math.min(r[o-1][n]+1,r[o][n-1]+1,r[o-1][n-1]+i),o>1&&n>1&&t[o-1]===e[n-2]&&t[o-2]===e[n-1]&&(r[o][n]=Math.min(r[o][n],r[o-2][n-2]+1))}return r[t.length][e.length]}(t,e),i=Math.max(t.length,e.length);(i-r)/i>.4&&(r<o?(o=r,n=[e]):r===o&&n.push(e))})),n.sort(((t,e)=>t.localeCompare(e))),r&&(n=n.map((t=>`--${t}`))),n.length>1?`\n(Did you mean one of ${n.join(", ")}?)`:1===n.length?`\n(Did you mean ${n[0]}?)`:""}}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={exports:{}};return t[n](i,i.exports,r),i.exports}var n=r(116).program,o=(r(3),r(317).exec,r(304)),i=r(938),a=r(140),s=r(518),c=r(110),u=r(772),l=r(158),h=r(728);n.version("1.0.16").description("An OmniStudio utility CLI for executing renaming tasks"),n.command("rename-dm <basePath>").description("Run command to rename DataMappers").action((function(t){o.startProcess(t)})),n.command("rename-ip <basePath>").description("Run command to rename IntegrationProcedures").action((function(t){c.startProcess(t)})),n.command("rename-flex-cards <basePath>").description("Run command to rename FlexCards").action((function(t){a.startProcess(t)})),n.command("rename-omniscripts <basePath>").description("Run command to rename OmniScripts").action((function(t){l.startProcess(t)})),n.command("update-dm-references <basePath>").description("Run command to fix DataMappers references after renaming").action((function(t){i.startProcess(t)})),n.command("update-ip-references <basePath>").description("Run command to fix IntegrationProcedures references after renaming").action((function(t){u.startProcess(t)})),n.command("update-flex-cards-references <basePath>").description("Run command to fix FlexCards references after renaming").action((function(t){s.startProcess(t)})),n.command("update-omniscripts-references <basePath>").description("Run command to fix OmniScripts references after renaming").action((function(t){h.startProcess(t)})),n.parse(process.argv)})();